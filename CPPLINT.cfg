# cpplint configuration for toyc
# Run: make lint
# Install: pip3 install cpplint

# File extensions to check
extensions=cpp,hpp

# Header file extensions
headers=hpp

# Line length to match .clang-format
linelength=120

# Suppress filters that conflict with the codebase conventions:
#
#   whitespace/indent
#     cpplint expects "public:" indented +1 space; the project uses
#     AccessModifierOffset=-4 (access labels at column 0, members at +4).
#
#   readability/inheritance
#     The project explicitly writes "virtual ... override" for clarity;
#     cpplint flags the redundant "virtual" as a warning.
#
#   whitespace/parens
#     Multi-line function signatures close ")" on its own line before "{";
#     cpplint wants the closing ")" merged onto the previous line.
#
#   build/include_what_you_use
#     The project relies on transitive includes from LLVM headers.
#     Enabling this requires full iwyu analysis.
#
#   whitespace/comments
#     Some inline comments have a single space before "//"; cpplint
#     recommends two spaces. Low-severity stylistic preference.
#
#   legal/copyright
#     No copyright headers in this project.
#
#   build/include_order
#     Headers (.hpp) order: std -> LLVM -> local.
#     Sources (.cpp) order: local -> LLVM -> std.
#     Both are intentional; the divergence confuses cpplint.
#
#   build/namespaces
#     "using namespace toyc::ast;" is used in .cpp files.
#
#   runtime/references
#     Non-const reference parameters (e.g. "ASTContext& context") are
#     used throughout as the standard parameter-passing convention.
#
#   runtime/int
#     Plain int/long are used intentionally; this project does not
#     target platforms requiring specific-width integer types.
#
#   build/c++11
#     Project is C++17; cpplint incorrectly flags some C++17 headers.
filter=-whitespace/indent,-readability/inheritance,-whitespace/parens,-build/include_what_you_use,-whitespace/comments,-legal/copyright,-build/include_order,-build/namespaces,-runtime/references,-runtime/int,-build/c++11